# 題材：旅客船会社の予約管理

## 概要

- 国内長距離フェリーを運航する船会社。
  - 本社: 横須賀
  - 航路: 苫小牧 ~ 横須賀 ~ 新門司
- 業務内容: 旅客及び貨物の運搬を行う。
  - 貨物はドライバーも乗船できるが、コンテナのみ運ぶのがメイン。

## 要件

### 航路と区間

- 航路(routes)テーブル
  - 横須賀↔新門司: R1
  - 横須賀↔苫小牧: R2
  - 苫小牧↔新門司: R3

- 区間(sections)テーブル
  - 出発港ごとに区間IDを分ける（所要時間や運賃が上りと下りで変わるため、条件分岐しやすくする）
  - 横須賀→新門司：S1
  - 新門司→横須賀：S2
  - 横須賀→苫小牧：S3
  - 苫小牧→横須賀：S4

- 航路区間構成(route_sections)テーブル
  - R1はS1, S2
  - R2はS3, S4
  - R3はS1,S2,S3,S4

※２区間同じ船に乗り続ける場合は、予約明細(reservation_detail)と搭乗実績(boarding)２レコード挿入する。

### ダイヤ

- ダイヤ：
  - 前提
    - 苫小牧・横須賀: 約18時間30分
    - 横須賀・新門司: 約21時間30分
    - 経由地 停泊時間: 約3時間
  - 出発・到着時間
    - 苫小牧 23:00発 ~ 横須賀 翌日17:30着
    - 横須賀 20:30発 ~ 新門司 翌日18:15着
    - 新門司 22:15発 ~ 横須賀 翌日19:15着
    - 横須賀 22:30発 ~ 苫小牧 翌日17:15着
  - 詳細
    - 苫小牧発
      - 横須賀行: 毎日運航 23:00発 翌日17:30着
      - 新門司行: 隔日運行 23:00発 翌々日18:15着
    - 横須賀発
      - 苫小牧行: 毎日運航 22:30発 翌日17:15着
      - 新門司行: 毎日運航 20:30発 翌日18:15着
    - 新門司発
      - 横須賀行: 毎日運航 22:15発 翌日19:15着
      - 苫小牧行: 隔日運行 22:15発 翌々日17:15着
    - 就航船
      - 苫小牧 ~ 横須賀: AppleMaru
      - 新門司 ~ 横須賀: BananaMaru
      - 苫小牧 ~ 新門司: OrangeMaru, GrapeMaru

- スケジュールイメージ

|日|月|火|水|木|金|土|
|--|--|--|--|--|--|--|
|A(新),O(横),G(横),B(苫)|A(横),O(新),G(苫),B(横)|A(新),O(横),G(横),B(苫)|A(横),O(苫),G(新),B(横)|A(新),O(横),G(横),B(苫)|A(横),O(新),G(苫),B(横)|A(新),O(横),G(横),B(苫)|
|A(横),O(苫),G(新),B(横)|A(新),O(横),G(横),B(苫)|A(横),O(新),G(苫),B(横)|A(新),O(横),G(横),B(苫)|A(横),O(苫),G(新),B(横)|A(新),O(横),G(横),B(苫)|A(横),O(新),G(苫),B(横)|

  1/17
  新門司 ↔ 横須賀 ↔ 苫小牧
    A       OG      B

  1/18
  新門司 ↔ 横須賀 ↔ 苫小牧
    O       AB      G

  1/19
  新門司 ↔ 横須賀 ↔ 苫小牧
    A       OG      B

  1/20
  新門司 ↔ 横須賀 ↔ 苫小牧
    G       AB      O

### 予約者

- 対象者：旅客（徒歩客、車・バイク）、貨物（トラック（ドライバー搭乗有無））

### 所有船

- 船：4隻（AppleMaru, BananaMaru, OrangeMaru, GrapeMaru）

|船名|全長|全幅|総トン数|航海速力|旅客定員|車両搭載数|
|--|--|--|--|--|--|--|
|Apple, Banana|200.6m|27.1m|14015トン|23ノット|443名|大型トラック 140台/乗用車 150台/バイク40台|
|Orange, Grape|202.1m|28.1m|15301トン|20ノット|114名|大型トラック 170台/乗用車 20台/バイク20台|

### 客室

- 基本情報

|クラスID|クラス|特徴|
|--|--|--|
|SW|スイート|豪華個室。「室単位」で予約。|
|DX|デラックス|家族向け個室。「室単位」で予約。1名でも「1室利用」ができる（貸切料が発生する）。|
|TR|ツーリング（寝台）|一人用個室。「室単位」で予約。|
|EC|エコノミー（雑魚寝）|大部屋。「エリアの定員」で管理。部屋番号が固定されない。|
|DR|ドライバー室|トラック運転手専用|

- AppleMaru, BananaMaru

|クラスID|クラス名|定員/室|客室数|
|--|--|--|--|
|SW|スイート|2名|5室|
|DX|デラックス|4名|22室|
|TR|ツーリング（寝台）|1名|105室|
|EC|エコノミー（雑魚寝）|20名|10室|
|DR|ドライバー室|4名|10室|
|計||443名||

- OrangeMaru, GrapeMaru

|クラスID|クラス名|定員/室|客室数|
|--|--|--|--|
|SW|スイート|2名|1室|
|DX|デラックス|4名|3室|
|TR|ツーリング（寝台）|1名|20室|
|EC|エコノミー（雑魚寝）|20名|2室|
|DR|ドライバー室|4名|10室|
|計||114名||
